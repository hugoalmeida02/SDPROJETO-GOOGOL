<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados da Pesquisa</title>
</head>
<body>
    <h1>Resultados para: "{{ words }}"</h1>

    {% if urls %}
        <h2>Resultados do Googol</h2>
        <ul>
        {% for url_info in urls %}
            <li>
                <strong><a href="{{ url_info.url }}" target="_blank">{{ url_info.title }}</a></strong><br>
                <em>{{ url_info.quote }}</em>
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>Nenhum resultado encontrado no Googol.</p>
    {% endif %}

    <hr>
    
    <h3>Análise Contextualizada Gerado pela IA (OpenAI)</h3>
    <p>{{ summary }}</p>

    <h3>Indexação de URLs no Hacker News</h3>
    
    <!-- Formulário para indexar as top stories -->
    <form action="/index_hackernews_urls" method="post">
        <h4>Indexar Top Stories do Hacker News com os termos "{{ words }}"</h4>
        <button type="submit">Indexar Top Stories</button>
    </form>

    <br>

    <!-- Formulário para indexar as histórias de um utilizador específico -->
    <form action="/index_hackernews_urls_user" method="post">
        <h4>Indexar suas Histórias do Hacker News</h4>
        <label for="user_id">ID de utilizador:</label>
        <input type="text" id="user_id" name="user_id" required>
        <button type="submit">Indexar Histórias</button>
    </form>

    <br>
    <a href="/">Voltar</a>
</body>
</html>