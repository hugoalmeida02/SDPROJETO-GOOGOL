<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8" />
  <title>Resultados da Pesquisa</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>

<body>
  <header>
    <h1>Resultados da Pesquisa</h1>
  </header>

  <main>
    <section id="tools">
      <button id="index-top-stories-btn">Indexar Top Stories do Hacker News</button>
      <button id="generate-analysis-btn">Gerar Análise da Pesquisa</button>
      <p id="tool-msg"></p>
    </section>
    <div id="analysis-container" style="display: none;">
        <h2>Análise Gerada:</h2>
        <p id="analysis-content">A gerar a tua resposta...</p>
    </div>
    <div id="results-container">
      {% if urls %}
      {% for item in urls %}
      <div class="result-item">
        <h3><a href="{{ item.url }}" target="_blank">{{ item.title }}</a></h3>
        <p>{{ item.snippet or item.url }}</p>
      </div>
      {% endfor %}
      {% else %}
      <p>Nenhum resultado encontrado.</p>
      {% endif %}
    </div>

    <div class="pagination">
      {% if current_page > 1 %}
      <a href="/search?words={{ words }}&page={{ current_page - 1 }}">← Anterior</a>
      {% endif %}
      <span>Página {{ current_page }} de {{ total_pages }}</span>
      {% if current_page < total_pages %} <a href="/search?words={{ words }}&page={{ current_page + 1 }}">Seguinte →</a>
        {% endif %}
    </div>
  </main>
  <script src="/static/results.js"></script>
</body>

</html>